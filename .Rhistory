setwd('..')
devtools::document()
devtools::install_github('usstudiescentre/ussc')
pkgdown::clean_site()
pkgdown::build_site()
knitr::opts_chunk$set(
warning = FALSE,
message = FALSE,
comment = FALSE,
echo = TRUE
)
library(tidyverse)
library(ussc)
library(knitr)
library(kableExtra)
load("survey_long_data.rdata")
survey_data %>%
prop_survey_question(questions = starts_with("stance_on_tarrifs")) %>%
select(-description_au)
pkgdown::clean_site()
pkgdown::build_site()
t <- f2 %>%
select(-description_us,
-`Australia_Other or none`) %>%
knitr::kable("html", booktabs = T, digits = 0, col.names = NULL) %>%
kableExtra::add_header_above(c(" " = 1,
"LNP" = 1,
"Greens" = 1,
"Labor" = 1,
"Dem." = 1,
"Ind." = 1,
"Rep." = 1)) %>%
kableExtra::add_header_above(c(" " = 1,
"Australia" = 3,
"United States" = 3), bold = T) %>%
kableExtra::group_rows(index = c("Men getting away with committing sexual harassment and assault" = 3,
"Women making false claims about sexual harassment or assault" = 3,
"Women not being believed about sexual harassment and assault" = 3))
f2 <- survey_data %>%
prop_grouped_survey_question(questions = starts_with("sexual_harrassment"),
sample, partyid) %>%
select(-description_au)
t <- f2 %>%
select(-description_us,
-`Australia_Other or none`) %>%
knitr::kable("html", booktabs = T, digits = 0, col.names = NULL) %>%
kableExtra::add_header_above(c(" " = 1,
"LNP" = 1,
"Greens" = 1,
"Labor" = 1,
"Dem." = 1,
"Ind." = 1,
"Rep." = 1)) %>%
kableExtra::add_header_above(c(" " = 1,
"Australia" = 3,
"United States" = 3), bold = T) %>%
kableExtra::group_rows(index = c("Men getting away with committing sexual harassment and assault" = 3,
"Women making false claims about sexual harassment or assault" = 3,
"Women not being believed about sexual harassment and assault" = 3))
f2 %>%
select(-description_us,
-`Australia_Other or none`)
names(f2)
f2 %>%
select(-description_us,
-`Australia_Other or none`) %>%
rename(" " = "answer",
"Coalition" = "Australia_Coalition",
"Greens" = "Australia_Greens",
"Labor" = "Australia_Labor",
"Democrat" = "United States_Democrat",
"Independent" = "United States_Independent",
"Republican" = "United States_Republican")
pkgdown::clean_site()
f2 <- survey_data %>%
prop_grouped_survey_question(questions = starts_with("sexual_harrassment"),
sample, partyid) %>%
select(-description_au) %>%
rename_at(.vars = vars(starts_with("Australia|United")),
.funs = funs(sub("^Australia_", "", .)))
f2
f2 <- survey_data %>%
prop_grouped_survey_question(questions = starts_with("sexual_harrassment"),
sample, partyid) %>%
select(-description_au) %>%
rename_at(.vars = vars(starts_with("Australia")),
.funs = funs(sub("^Australia_", "", .)))
f2
f2 <- survey_data %>%
prop_grouped_survey_question(questions = starts_with("sexual_harrassment"),
sample, partyid) %>%
select(-description_au) %>%
rename_at(.vars = vars(contains("_")),
.funs = funs(sub("^*_", "", .)))
f2
f2 <- survey_data %>%
prop_grouped_survey_question(questions = starts_with("sexual_harrassment"),
sample, partyid) %>%
select(-description_au) %>%
rename_at(.vars = vars(contains("//_")),
.funs = funs(sub("^*_", "", .)))
f2
f2 <- survey_data %>%
prop_grouped_survey_question(questions = starts_with("sexual_harrassment"),
sample, partyid) %>%
select(-description_au) %>%
rename_at(.vars = vars(contains("//_")),
.funs = funs(sub("^*._", "", .)))
f2
f2 <- survey_data %>%
prop_grouped_survey_question(questions = starts_with("sexual_harrassment"),
sample, partyid) %>%
select(-description_au) %>%
rename_at(.vars = vars(contains("//_")),
.funs = funs(str_remove("*_")))
f2
f2 <- survey_data %>%
prop_grouped_survey_question(questions = starts_with("sexual_harrassment"),
sample, partyid) %>%
select(-description_au) %>%
rename_at(.vars = vars(contains("//_")),
.funs = funs(str_remove(".*_")))
f2
f2 <- survey_data %>%
prop_grouped_survey_question(questions = starts_with("sexual_harrassment"),
sample, partyid) %>%
select(-description_au) %>%
rename_at(.vars = vars(contains("//_")),
.funs = funs(str_replace(".*_", "")))
f2
f2 <- survey_data %>%
prop_grouped_survey_question(questions = starts_with("sexual_harrassment"),
sample, partyid) %>%
select(-description_au) %>%
rename_at(.vars = vars(contains("[_]")),
.funs = funs(str_replace(".*_", "")))
f2
f2 <- survey_data %>%
prop_grouped_survey_question(questions = starts_with("sexual_harrassment"),
sample, partyid) %>%
select(-description_au) %>%
rename_all(~sub('Australia_', '', .x))
f2
f2 <- survey_data %>%
prop_grouped_survey_question(questions = starts_with("sexual_harrassment"),
sample, partyid) %>%
select(-description_au) %>%
rename_all(~sub('Australia_|(United States_)', '', .x))
f2
pkgdown::clean_site()
pkgdown::build_site()
pkgdown::clean_site()
pkgdown::build_site()
pkgdown::clean_site()
pkgdown::build_site()
