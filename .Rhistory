labs(y = "In-party approval rating (%)",
x = "# of days into first term",
title = "In-party approval rating for American presidents from 1956-2017",
subtitle = "President Trump's in-party approval rating is overlayed in blue") +
facet_wrap(~pres_factor, nrow=3)
pid2 <- split(pid_data,pid_data$pres_factor)
n <- length(pid2)
pid3 <- list()
thePres <- names(pid2)
for(i in 1:(n-1)){
pid3[[i]] <- bind_rows(pid2[[i]] %>%
mutate(inpres=pres_factor) %>%
select(dop,inparty_app,pres_factor,inpres),
pid2[[n]] %>%
select(dop,inparty_app) %>%
mutate(pres_factor=thePres[i],
inpres="Trump")
)
}
pid3 <- bind_rows(pid3)
pid3$inparty_app <- pid3$inparty_app*100
pid3$pres_factor <- factor(pid3$pres_factor, levels=c("Eisenhower", "Kennedy", "Johnson","Nixon", "Ford", "Carter", "Reagan", "Bush Sr.", "Clinton", "Bush Jr.", "Obama", "Trump"))
ggplot(pid3,
aes(x=dop,
y=inparty_app,
group=inpres,
colour = ifelse(inpres=="Trump", ussc_colours("light blue"), "black"))
) +
geom_line() +
scale_color_identity() +
theme_ussc() +
theme(panel.grid.minor = element_blank()) +
labs(y = NULL,
x = "# of days into first term",
title = "In-party approval rating for American presidents from 1956-2017",
subtitle = "President Trump is overlayed in blue") +
facet_wrap(~pres_factor, nrow=3)
devtools::install_github('usstudiescentre/ussc')
pkgdown::clean_site()
setwd("~/Dropbox (Sydney Uni)/Rpackages/ussc/vignettes")
setwd("..")
pkgdown::clean_site()
pkgdown::build_site()
ggplot(pid3,
aes(x=dop,
y=inparty_app,
group=inpres,
colour = ifelse(inpres=="Trump", ussc_colours("light blue"), "black"))
) +
geom_line() +
scale_color_identity() +
theme_ussc() +
scale_y_continuous(labels = scales::percent_format(accuracy = 2)) +
theme(panel.grid.minor = element_blank()) +
labs(y = NULL,
x = "# of days into first term",
title = "In-party approval rating for American presidents from 1956-2017",
subtitle = "President Trump is overlayed in blue") +
facet_wrap(~pres_factor, nrow=3)
pid2 <- split(pid_data,pid_data$pres_factor)
n <- length(pid2)
pid3 <- list()
thePres <- names(pid2)
for(i in 1:(n-1)){
pid3[[i]] <- bind_rows(pid2[[i]] %>%
mutate(inpres=pres_factor) %>%
select(dop,inparty_app,pres_factor,inpres),
pid2[[n]] %>%
select(dop,inparty_app) %>%
mutate(pres_factor=thePres[i],
inpres="Trump")
)
}
pid3 <- bind_rows(pid3)
#pid3$inparty_app <- pid3$inparty_app*100
pid3$pres_factor <- factor(pid3$pres_factor, levels=c("Eisenhower", "Kennedy", "Johnson","Nixon", "Ford", "Carter", "Reagan", "Bush Sr.", "Clinton", "Bush Jr.", "Obama", "Trump"))
ggplot(pid3,
aes(x=dop,
y=inparty_app,
group=inpres,
colour = ifelse(inpres=="Trump", ussc_colours("light blue"), "black"))
) +
geom_line() +
scale_color_identity() +
theme_ussc() +
scale_y_continuous(labels = scales::percent_format(accuracy = 2)) +
theme(panel.grid.minor = element_blank()) +
labs(y = NULL,
x = "# of days into first term",
title = "In-party approval rating for American presidents from 1956-2017",
subtitle = "President Trump is overlayed in blue") +
facet_wrap(~pres_factor, nrow=3)
pkgdown::clean_site()
pkgdown::build_site()
pkgdown::clean_site()
pkgdown::build_site()
cowplot::plot_grid(one, two, three, nrow = 2)
dat1 <- data.frame(
sex = factor(c("Female","Female","Male","Male")),
time = factor(c("Lunch","Dinner","Lunch","Dinner"), levels=c("Lunch","Dinner")),
total_bill = c(13.53, 16.81, 16.24, 17.42)
)
one <- ggplot(mpg, aes(class)) +
geom_bar() +
theme_ussc() +
labs(title = "a) Rotated bar chart") +
coord_flip() +
theme(panel.grid.major.y = element_blank(),
panel.grid.minor = element_blank(),
axis.ticks = element_blank())
two <- ggplot(mpg, aes(class)) +
geom_bar(aes(fill = drv)) +
theme_ussc() +
scale_fill_ussc() +
labs(title = "b) Rotated stacked bar chart") +
coord_flip() +
theme(panel.grid.major.y = element_blank(),
panel.grid.minor = element_blank(),
axis.ticks = element_blank())
three <- ggplot(data=dat1, aes(x=time, y=total_bill, fill=sex)) +
geom_bar(stat="identity",
position=position_dodge(),
colour="white") +
theme_ussc() +
annotate("text", x = 0.75, y = 13.3, colour = "white", label = "Male") +
annotate("text", x = 1.25, y = 16, colour = "white", label = "Female") +
labs(title =  "c) Grouped bar chart",
x = NULL) +
theme(legend.position = 'none',
panel.grid.major.x = element_blank(),
panel.grid.minor = element_blank(),
axis.ticks = element_blank()) +
scale_fill_ussc()
df <- data.frame(x = rep(c(2.9, 3.1, 4.5), c(5, 10, 4)))
four <- ggplot(df, aes(x)) +
geom_bar() +
labs(title = "d) Continuous bar chart") +
theme_ussc() +
theme(panel.grid.major.x = element_blank(),
panel.grid.minor = element_blank(),
axis.ticks = element_blank())
cowplot::plot_grid(one, two, three, nrow = 2)
pkgdown::build_site()
ggplot(pid3,
aes(x=dop,
y=inparty_app,
group=inpres,
colour = ifelse(inpres=="Trump", ussc_colours("light blue"), "black"))
) +
geom_line() +
scale_color_identity() +
theme_ussc() +
scale_y_continuous(labels = scales::percent_format(accuracy = 2)) +
theme(panel.grid.minor = element_blank()) +
labs(y = NULL,
x = "# of days into first term",
title = "In-party approval rating for American presidents from 1956-2017",
subtitle = "President Trump is overlayed in blue") +
facet_wrap(~pres_factor, nrow= 4)
ggplot(pid3,
aes(x=dop,
y=inparty_app,
group=inpres,
colour = ifelse(inpres=="Trump", ussc_colours("light blue"), "black"))
) +
geom_line() +
scale_color_identity() +
theme_ussc() +
scale_y_continuous(labels = scales::percent_format(accuracy = 2)) +
theme(panel.grid.minor = element_blank()) +
labs(y = NULL,
x = "# of days into first term",
title = "In-party approval rating for American presidents from 1956-2017",
subtitle = "President Trump is overlayed in blue") +
facet_wrap(~pres_factor, nrow= 4)
ggplot(pid3,
aes(x=dop,
y=inparty_app,
group=inpres,
colour = ifelse(inpres=="Trump", ussc_colours("light blue"), "black"))
) +
geom_line() +
scale_color_identity() +
theme_ussc() +
scale_y_continuous(labels = scales::percent_format(accuracy = 2)) +
theme(panel.grid.minor = element_blank()) +
labs(y = NULL,
x = "# of days into first term",
title = "In-party approval rating for American presidents from 1956-2017",
subtitle = "President Trump is overlayed in blue") +
facet_wrap(~pres_factor, ncol= 4)
pkgdown::clean_site()
pkgdown::build_site()
pkgdown::clean_site()
pkgdp
pkgdown::build_site()
pkgdp
pkgdown::clean_site()
pkgdown::build_site()
ggplot(graph5,
aes(x=reorder(`type`, + value),
y=value)) +
geom_bar(stat = "identity",
fill = ussc_colours("light grey")) +
geom_text(aes(label=mil),
colour = ussc_colours("red"),
family="universLight",
vjust='inward',
size=5) +
theme_ussc() +
labs(caption = 'Source: USSC analysis',
x='',
y='') +
annotate("text", x = 1.7, y = 37000000, colour = "purple", label = "The grid lines, y-axis line\nand text are unneccessary.") +
geom_curve(
aes(x = 1.3, y  = 34000000, xend = 1.1, yend = 30000000),
data = graph5,
arrow = arrow(length = unit(0.03, "npc")),
colour = "purple") +
geom_curve(
aes(x = 0.7, y  = 34000000, xend = 0.5, yend = 33000000),
data = graph5,
curvature = -0.4,
arrow = arrow(length = unit(0.03, "npc")),
colour = "purple") +
theme(legend.position="none",
axis.text.x=element_text(family='universLight'),
axis.ticks  = element_blank(),
axis.line.y = element_line(colour = "black"),
panel.grid.major.x=element_blank(),
panel.grid.minor.x= element_blank(),
panel.grid.minor.y= element_blank(),
panel.grid.major.y = element_line(colour = "black"),
panel.border = element_blank()) +
scale_y_continuous(labels=scales::dollar,
position='left')  +
scale_x_discrete(labels = c(`Government Grants/Research Initiatives` = "Government\nGrants/Research\n Initiatives",
`Venture Capital Private Equity Firms` = "Venture\nCapital/\nPrivate Equity\nFirms",
`Angel Investors/Family Offices`="Angel Investors/\nFamily Offices",
`Corporate/Industry Representative`="Corporate/\nIndustry\nRep.",
`Incubators/Accelerators`="Accelerator/\nIncubator",
`Mixed Syndicate`="Mixed\nSyndicate"))
graph5 <- read.csv("~/dropboxsydneyuni/agtech/R/plots/data_files/graph5.csv",stringsAsFactors = FALSE)
ggplot(graph5,
aes(x=reorder(`type`, + value),
y=value)) +
geom_bar(stat = "identity",
fill = ussc_colours("light grey")) +
geom_text(aes(label=mil),
colour = ussc_colours("red"),
family="universLight",
vjust='inward',
size=5) +
theme_ussc() +
labs(caption = 'Source: USSC analysis',
x='',
y='') +
annotate("text", x = 1.7, y = 37000000, colour = "purple", label = "The grid lines, y-axis line\nand text are unneccessary.") +
geom_curve(
aes(x = 1.3, y  = 34000000, xend = 1.1, yend = 30000000),
data = graph5,
arrow = arrow(length = unit(0.03, "npc")),
colour = "purple") +
geom_curve(
aes(x = 0.7, y  = 34000000, xend = 0.5, yend = 33000000),
data = graph5,
curvature = -0.4,
arrow = arrow(length = unit(0.03, "npc")),
colour = "purple") +
theme(legend.position="none",
axis.text.x=element_text(family='universLight'),
axis.ticks  = element_blank(),
axis.line.y = element_line(colour = "black"),
panel.grid.major.x=element_blank(),
panel.grid.minor.x= element_blank(),
panel.grid.minor.y= element_blank(),
panel.grid.major.y = element_line(colour = "black"),
panel.border = element_blank()) +
scale_y_continuous(labels=scales::dollar,
position='left')  +
scale_x_discrete(labels = c(`Government Grants/Research Initiatives` = "Government\nGrants/Research\n Initiatives",
`Venture Capital Private Equity Firms` = "Venture\nCapital/\nPrivate Equity\nFirms",
`Angel Investors/Family Offices`="Angel Investors/\nFamily Offices",
`Corporate/Industry Representative`="Corporate/\nIndustry\nRep.",
`Incubators/Accelerators`="Accelerator/\nIncubator",
`Mixed Syndicate`="Mixed\nSyndicate"))
pkgdown::clean_site()
pkgdown::build_site()
pkgdown::clean_site()
pkgdown::build_site()
ggplot(graph5,
aes(x=reorder(`type`, + value),
y=value)) +
geom_bar(stat = "identity",
fill = ussc_colours("light grey")) +
geom_text(aes(label=mil),
colour = ussc_colours("red"),
family="universLight",
vjust='inward',
size=5) +
theme_ussc() +
labs(caption = 'Source: USSC analysis',
x='',
y='') +
annotate("text", x = 1.7, y = 37000000, colour = "purple", label = "The grid lines, y-axis line\nand text are unneccessary.") +
geom_curve(
aes(x = 1.3, y  = 34000000, xend = 1.1, yend = 30000000),
data = graph5,
arrow = arrow(length = unit(0.03, "npc")),
colour = "purple") +
geom_curve(
aes(x = 0.7, y  = 34000000, xend = 0.5, yend = 33000000),
data = graph5,
curvature = -0.4,
arrow = arrow(length = unit(0.03, "npc")),
colour = "purple") +
theme(legend.position="none",
axis.text.x=element_text(family='universLight'),
axis.ticks  = element_blank(),
axis.line.y = element_line(colour = "black"),
panel.grid.major.x=element_blank(),
panel.grid.minor.x= element_blank(),
panel.grid.minor.y= element_blank(),
panel.grid.major.y = element_line(colour = "black"),
panel.border = element_blank()) +
scale_y_continuous(labels=scales::dollar,
position='left')  +
scale_x_discrete(labels = c(`Government Grants/Research Initiatives` = "Government\nGrants/Research\n Initiatives",
`Venture Capital Private Equity Firms` = "Venture\nCapital/\nPrivate Equity\nFirms",
`Angel Investors/Family Offices`="Angel Investors/\nFamily Offices",
`Corporate/Industry Representative`="Corporate/\nIndustry\nRep.",
`Incubators/Accelerators`="Accelerator/\nIncubator",
`Mixed Syndicate`="Mixed\nSyndicate"))
graph5$mil <- paste0("$", format(round(graph5$value / 1e6, 1), trim = TRUE), "M")
ggplot(graph5,
aes(x=reorder(`type`, + value),
y=value)) +
geom_bar(stat = "identity",
fill = ussc_colours("light grey")) +
geom_text(aes(label=mil),
colour = ussc_colours("red"),
family="universLight",
vjust='inward',
size=5) +
theme_ussc() +
labs(caption = 'Source: USSC analysis',
x='',
y='') +
annotate("text", x = 1.7, y = 37000000, colour = "purple", label = "The grid lines, y-axis line\nand text are unneccessary.") +
geom_curve(
aes(x = 1.3, y  = 34000000, xend = 1.1, yend = 30000000),
data = graph5,
arrow = arrow(length = unit(0.03, "npc")),
colour = "purple") +
geom_curve(
aes(x = 0.7, y  = 34000000, xend = 0.5, yend = 33000000),
data = graph5,
curvature = -0.4,
arrow = arrow(length = unit(0.03, "npc")),
colour = "purple") +
theme(legend.position="none",
axis.text.x=element_text(family='universLight'),
axis.ticks  = element_blank(),
axis.line.y = element_line(colour = "black"),
panel.grid.major.x=element_blank(),
panel.grid.minor.x= element_blank(),
panel.grid.minor.y= element_blank(),
panel.grid.major.y = element_line(colour = "black"),
panel.border = element_blank()) +
scale_y_continuous(labels=scales::dollar,
position='left')  +
scale_x_discrete(labels = c(`Government Grants/Research Initiatives` = "Government\nGrants/Research\n Initiatives",
`Venture Capital Private Equity Firms` = "Venture\nCapital/\nPrivate Equity\nFirms",
`Angel Investors/Family Offices`="Angel Investors/\nFamily Offices",
`Corporate/Industry Representative`="Corporate/\nIndustry\nRep.",
`Incubators/Accelerators`="Accelerator/\nIncubator",
`Mixed Syndicate`="Mixed\nSyndicate"))
ggplot(graph5,
aes(x=reorder(`type`, + value),
y=value)) +
geom_bar(stat = "identity",
fill = ussc_colours("light grey")) +
geom_text(aes(label=mil),
colour = ussc_colours("dark blue"),
family="universLight",
vjust='inward',
size=5) +
theme_ussc() +
labs(caption = 'Source: USSC analysis',
x='',
y='') +
annotate("text", x = 1.7, y = 37000000, colour = "purple", label = "The grid lines, y-axis line\nand text are unneccessary.") +
geom_curve(
aes(x = 1.3, y  = 34000000, xend = 1.1, yend = 30000000),
data = graph5,
arrow = arrow(length = unit(0.03, "npc")),
colour = "purple") +
geom_curve(
aes(x = 0.7, y  = 34000000, xend = 0.5, yend = 33000000),
data = graph5,
curvature = -0.4,
arrow = arrow(length = unit(0.03, "npc")),
colour = "purple") +
theme(legend.position="none",
axis.text.x=element_text(family='universLight'),
axis.ticks  = element_blank(),
axis.line.y = element_line(colour = "black"),
panel.grid.major.x=element_blank(),
panel.grid.minor.x= element_blank(),
panel.grid.minor.y= element_blank(),
panel.grid.major.y = element_line(colour = "black"),
panel.border = element_blank()) +
scale_y_continuous(labels=scales::dollar,
position='left')  +
scale_x_discrete(labels = c(`Government Grants/Research Initiatives` = "Government\nGrants/Research\n Initiatives",
`Venture Capital Private Equity Firms` = "Venture\nCapital/\nPrivate Equity\nFirms",
`Angel Investors/Family Offices`="Angel Investors/\nFamily Offices",
`Corporate/Industry Representative`="Corporate/\nIndustry\nRep.",
`Incubators/Accelerators`="Accelerator/\nIncubator",
`Mixed Syndicate`="Mixed\nSyndicate"))
ggplot(graph5,
aes(x=reorder(`type`, + value),
y=value)) +
geom_bar(stat = "identity",
fill = ussc_colours("light grey")) +
geom_text(aes(label=mil),
colour = ussc_colours("light blue"),
family="universLight",
vjust='inward',
size=5) +
theme_ussc() +
labs(caption = 'Source: USSC analysis',
x='',
y='') +
annotate("text", x = 1.7, y = 37000000, colour = "purple", label = "The grid lines, y-axis line\nand text are unneccessary.") +
geom_curve(
aes(x = 1.3, y  = 34000000, xend = 1.1, yend = 30000000),
data = graph5,
arrow = arrow(length = unit(0.03, "npc")),
colour = "purple") +
geom_curve(
aes(x = 0.7, y  = 34000000, xend = 0.5, yend = 33000000),
data = graph5,
curvature = -0.4,
arrow = arrow(length = unit(0.03, "npc")),
colour = "purple") +
theme(legend.position="none",
axis.text.x=element_text(family='universLight'),
axis.ticks  = element_blank(),
axis.line.y = element_line(colour = "black"),
panel.grid.major.x=element_blank(),
panel.grid.minor.x= element_blank(),
panel.grid.minor.y= element_blank(),
panel.grid.major.y = element_line(colour = "black"),
panel.border = element_blank()) +
scale_y_continuous(labels=scales::dollar,
position='left')  +
scale_x_discrete(labels = c(`Government Grants/Research Initiatives` = "Government\nGrants/Research\n Initiatives",
`Venture Capital Private Equity Firms` = "Venture\nCapital/\nPrivate Equity\nFirms",
`Angel Investors/Family Offices`="Angel Investors/\nFamily Offices",
`Corporate/Industry Representative`="Corporate/\nIndustry\nRep.",
`Incubators/Accelerators`="Accelerator/\nIncubator",
`Mixed Syndicate`="Mixed\nSyndicate"))
ggplot(graph5,
aes(x=reorder(`type`, + value),
y=value)) +
geom_bar(stat = "identity",
fill = ussc_colours("light grey")) +
geom_text(aes(label=mil),
colour = ussc_colours("dark blue"),
family="universLight",
vjust='inward',
size=5) +
theme_ussc() +
labs(caption = 'Source: USSC analysis',
x='',
y='') +
annotate("text", x = 1.7, y = 37000000, colour = "purple", label = "The grid lines, y-axis line\nand text are unneccessary.") +
geom_curve(
aes(x = 1.3, y  = 34000000, xend = 1.1, yend = 30000000),
data = graph5,
arrow = arrow(length = unit(0.03, "npc")),
colour = "purple") +
geom_curve(
aes(x = 0.7, y  = 34000000, xend = 0.5, yend = 33000000),
data = graph5,
curvature = -0.4,
arrow = arrow(length = unit(0.03, "npc")),
colour = "purple") +
theme(legend.position="none",
axis.text.x=element_text(family='universLight'),
axis.ticks  = element_blank(),
axis.line.y = element_line(colour = "black"),
panel.grid.major.x=element_blank(),
panel.grid.minor.x= element_blank(),
panel.grid.minor.y= element_blank(),
panel.grid.major.y = element_line(colour = "black"),
panel.border = element_blank()) +
scale_y_continuous(labels=scales::dollar,
position='left')  +
scale_x_discrete(labels = c(`Government Grants/Research Initiatives` = "Government\nGrants/Research\n Initiatives",
`Venture Capital Private Equity Firms` = "Venture\nCapital/\nPrivate Equity\nFirms",
`Angel Investors/Family Offices`="Angel Investors/\nFamily Offices",
`Corporate/Industry Representative`="Corporate/\nIndustry\nRep.",
`Incubators/Accelerators`="Accelerator/\nIncubator",
`Mixed Syndicate`="Mixed\nSyndicate"))
pkgdown::clean_site()
pkgdown::build_site()
pkgdown::clean_site()
pkgdown::build_site()
pkgdown::clean_site()
pkgdown::build_site()
