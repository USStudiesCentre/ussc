alpha=0.80) +
geom_text(aes(label=mil),
colour = ussc_colours("dark blue"),
family="Halis GR",
vjust='inward',
size=5) +
theme_ussc() +
labs(title = "Do this:",
caption = 'Source: USSC analysis',
x='',
y='') +
theme(legend.position="none",
axis.text.y  = element_blank(),
axis.text.x=element_text(family='Halis GR'),
axis.ticks  = element_blank(),
panel.grid.major.x=element_blank(),
panel.grid.minor.x= element_blank(),
panel.grid.minor.y= element_blank(),
panel.grid.major.y = element_blank(),
panel.border = element_blank()) +
scale_y_continuous(labels=scales::dollar,
position='left')  +
scale_x_discrete(labels = c(`Government Grants/Research Initiatives` = "Government\nGrants/Research\n Initiatives",
`Venture Capital Private Equity Firms` = "Venture\nCapital/\nPrivate Equity\nFirms",
`Angel Investors/Family Offices`="Angel Investors/\nFamily Offices",
`Corporate/Industry Representative`="Corporate/\nIndustry\nRep.",
`Incubators/Accelerators`="Accelerator/\nIncubator",
`Mixed Syndicate`="Mixed\nSyndicate"))
yes
ggplot(graph5,
aes(x=reorder(`type`, + value),
y=value)) +
geom_bar(stat = "identity",
fill = ussc_colours("light grey"),
alpha=0.80) +
geom_bar(data = filter(graph5, type == "Government Grants/Research Initiatives"), stat = "identity",
fill = ussc_colours("light blue"),
alpha=0.80) +
geom_text(aes(label=mil),
colour = ussc_colours("dark blue"),
family="Halis GR",
vjust='inward',
size=5) +
theme_ussc() +
labs(caption = 'Source: USSC analysis',
x='',
y='') +
theme(legend.position="none",
axis.text.y  = element_blank(),
axis.text.x=element_text(family='Halis GR'),
axis.ticks  = element_blank(),
panel.grid.major.x=element_blank(),
panel.grid.minor.x= element_blank(),
panel.grid.minor.y= element_blank(),
panel.grid.major.y = element_blank(),
panel.border = element_blank()) +
scale_y_continuous(labels=scales::dollar,
position='left')  +
scale_x_discrete(labels = c(`Government Grants/Research Initiatives` = "Government\nGrants/Research\n Initiatives",
`Venture Capital Private Equity Firms` = "Venture\nCapital/\nPrivate Equity\nFirms",
`Angel Investors/Family Offices`="Angel Investors/\nFamily Offices",
`Corporate/Industry Representative`="Corporate/\nIndustry\nRep.",
`Incubators/Accelerators`="Accelerator/\nIncubator",
`Mixed Syndicate`="Mixed\nSyndicate"))
ggplot(graph5,
aes(x=reorder(`type`, + value),
y=value)) +
geom_bar(stat = "identity",
fill = ussc_colours("grey"),
alpha=0.80) +
geom_bar(data = filter(graph5, type == "Government Grants/Research Initiatives"), stat = "identity",
fill = ussc_colours("light blue"),
alpha=0.80) +
geom_text(aes(label=mil),
colour = ussc_colours("dark blue"),
family="Halis GR",
vjust='inward',
size=5) +
theme_ussc() +
labs(caption = 'Source: USSC analysis',
x='',
y='') +
theme(legend.position="none",
axis.text.y  = element_blank(),
axis.text.x=element_text(family='Halis GR'),
axis.ticks  = element_blank(),
panel.grid.major.x=element_blank(),
panel.grid.minor.x= element_blank(),
panel.grid.minor.y= element_blank(),
panel.grid.major.y = element_blank(),
panel.border = element_blank()) +
scale_y_continuous(labels=scales::dollar,
position='left')  +
scale_x_discrete(labels = c(`Government Grants/Research Initiatives` = "Government\nGrants/Research\n Initiatives",
`Venture Capital Private Equity Firms` = "Venture\nCapital/\nPrivate Equity\nFirms",
`Angel Investors/Family Offices`="Angel Investors/\nFamily Offices",
`Corporate/Industry Representative`="Corporate/\nIndustry\nRep.",
`Incubators/Accelerators`="Accelerator/\nIncubator",
`Mixed Syndicate`="Mixed\nSyndicate"))
label <- read.csv("~/dropboxsydneyuni/midterms_ussc/midterms-analysis-github/women_candidates/data/candidates_midterms.csv")%>%
filter(Cycle == "2018")
read.csv("~/dropboxsydneyuni/midterms_ussc/midterms-analysis-github/women_candidates/data/candidates_midterms.csv") %>%
ggplot() +
geom_line(aes(Cycle, Female.Candidates, colour = party), size = 1.5) +
geom_point(aes(Cycle, Female.Candidates, colour = party), size = 2.5) +
theme_ussc() +
scale_colour_ussc("main") +
theme(
legend.position = "top",
panel.grid.minor = element_blank(),
axis.text.x = element_text(angle = 90)
) +
labs(
title = "Do not do this:",
y = "", colour = "", x = "",
caption = "Source: Centre for Responsive Politics"
) +
scale_x_continuous(breaks = seq(1994, 2018, 1)) +
annotate("text", x = 2015, y = 50, colour = "purple", label = "Please note that the x-axis\nshould be horizontal for easy\n reading.") +
geom_curve(
aes(x = 2016, y  = 30, xend = 2017, yend = 1),
data = graph5,
arrow = arrow(length = unit(0.03, "npc")),
colour = "purple",
curvature = -0.2) +
annotate("text", x = 2010, y = 400, colour = "purple", label = "Directly labeling data removes the cognitive load\nneeded to connect legends to lines or points") +
geom_curve(
aes(x = 2010, y  = 430, xend = 2008, yend = 500),
data = graph5,
arrow = arrow(length = unit(0.03, "npc")),
colour = "purple",
curvature = 0.3) +
geom_curve(
aes(x = 2011, y  = 360, xend = 2016, yend = 300),
data = graph5,
arrow = arrow(length = unit(0.03, "npc")),
colour = "purple",
curvature = 0.3)
read.csv("~/dropboxsydneyuni/midterms_ussc/midterms-analysis-github/women_candidates/data/candidates_midterms.csv") %>%
ggplot() +
geom_line(aes(Cycle, Female.Candidates, colour = party), size = 1.5) +
geom_point(aes(Cycle, Female.Candidates, colour = party), size = 2.5) +
theme_ussc() +
directlabels::geom_dl(
data = label, aes(Cycle, Female.Candidates,
label = paste0(party, " (", Female.Candidates, ")"),
colour = party
),
method = list(directlabels::dl.trans(x = x - 3.5, y = y + .1),
"last.points",
cex = 1
)
) +
scale_colour_ussc("main") +
theme(
legend.position = "none",
panel.grid.minor = element_blank()
) +
scale_x_continuous(breaks = seq(1994, 2018, 2)) +
labs(
title = "Instead, do this:",
y = "", colour = "", x = "",
caption = "Source: Centre for Responsive Politics"
)
ggplot(graph5,
aes(x=reorder(`type`, + value),
y=value)) +
geom_bar(stat = "identity",
fill = ussc_colours("light grey")) +
geom_text(aes(label=mil),
colour = ussc_colours("dark blue"),
family="Halis GR",
vjust='inward',
size=5) +
theme_ussc() +
labs(caption = 'Source: USSC analysis',
x='',
y='') +
annotate("text", x = 1.7, y = 37000000, colour = "purple", label = "The grid lines, y-axis line\nand text are unneccessary.") +
geom_curve(
aes(x = 1.3, y  = 34000000, xend = 1.1, yend = 30000000),
data = graph5,
arrow = arrow(length = unit(0.03, "npc")),
colour = "purple") +
geom_curve(
aes(x = 0.7, y  = 34000000, xend = 0.5, yend = 33000000),
data = graph5,
curvature = -0.4,
arrow = arrow(length = unit(0.03, "npc")),
colour = "purple") +
theme(legend.position="none",
axis.text.x=element_text(family='Halis GR'),
axis.ticks  = element_blank(),
axis.line.y = element_line(colour = "black"),
panel.grid.major.x=element_blank(),
panel.grid.minor.x= element_blank(),
panel.grid.minor.y= element_blank(),
panel.grid.major.y = element_line(colour = "black"),
panel.border = element_blank()) +
scale_y_continuous(labels=scales::dollar,
position='left')  +
scale_x_discrete(labels = c(`Government Grants/Research Initiatives` = "Government\nGrants/Research\n Initiatives",
`Venture Capital Private Equity Firms` = "Venture\nCapital/\nPrivate Equity\nFirms",
`Angel Investors/Family Offices`="Angel Investors/\nFamily Offices",
`Corporate/Industry Representative`="Corporate/\nIndustry\nRep.",
`Incubators/Accelerators`="Accelerator/\nIncubator",
`Mixed Syndicate`="Mixed\nSyndicate"))
ggplot(graph5,
aes(x=reorder(`type`, + value),
y=value)) +
geom_bar(stat = "identity",
fill = ussc_colours("grey")) +
geom_text(aes(label=mil),
colour = ussc_colours("dark blue"),
family="Halis GR",
vjust='inward',
size=5) +
theme_ussc() +
labs(caption = 'Source: USSC analysis',
x='',
y='') +
annotate("text", x = 1.7, y = 37000000, colour = "purple", label = "The grid lines, y-axis line\nand text are unneccessary.") +
geom_curve(
aes(x = 1.3, y  = 34000000, xend = 1.1, yend = 30000000),
data = graph5,
arrow = arrow(length = unit(0.03, "npc")),
colour = "purple") +
geom_curve(
aes(x = 0.7, y  = 34000000, xend = 0.5, yend = 33000000),
data = graph5,
curvature = -0.4,
arrow = arrow(length = unit(0.03, "npc")),
colour = "purple") +
theme(legend.position="none",
axis.text.x=element_text(family='Halis GR'),
axis.ticks  = element_blank(),
axis.line.y = element_line(colour = "black"),
panel.grid.major.x=element_blank(),
panel.grid.minor.x= element_blank(),
panel.grid.minor.y= element_blank(),
panel.grid.major.y = element_line(colour = "black"),
panel.border = element_blank()) +
scale_y_continuous(labels=scales::dollar,
position='left')  +
scale_x_discrete(labels = c(`Government Grants/Research Initiatives` = "Government\nGrants/Research\n Initiatives",
`Venture Capital Private Equity Firms` = "Venture\nCapital/\nPrivate Equity\nFirms",
`Angel Investors/Family Offices`="Angel Investors/\nFamily Offices",
`Corporate/Industry Representative`="Corporate/\nIndustry\nRep.",
`Incubators/Accelerators`="Accelerator/\nIncubator",
`Mixed Syndicate`="Mixed\nSyndicate"))
dat1 <- data.frame(
sex = factor(c("Female","Female","Male","Male")),
time = factor(c("Lunch","Dinner","Lunch","Dinner"), levels=c("Lunch","Dinner")),
total_bill = c(13.53, 16.81, 16.24, 17.42)
)
one <- ggplot(mpg, aes(class)) +
geom_bar() +
theme_ussc() +
labs(title = "a) Rotated bar chart") +
coord_flip() +
theme(panel.grid.major.y = element_blank(),
panel.grid.minor = element_blank(),
axis.ticks = element_blank())
two <- ggplot(mpg, aes(class)) +
geom_bar(aes(fill = drv)) +
theme_ussc() +
scale_fill_ussc() +
labs(title = "b) Rotated stacked bar chart") +
coord_flip() +
theme(panel.grid.major.y = element_blank(),
panel.grid.minor = element_blank(),
axis.ticks = element_blank())
three <- ggplot(data=dat1, aes(x=time, y=total_bill, fill=sex)) +
geom_bar(stat="identity",
position=position_dodge(),
colour="white") +
theme_ussc() +
annotate("text", x = 0.75, y = 13.3, colour = "white", label = "Male") +
annotate("text", x = 1.25, y = 16, colour = "white", label = "Female") +
labs(title =  "c) Grouped bar chart",
x = NULL) +
theme(legend.position = 'none',
panel.grid.major.x = element_blank(),
panel.grid.minor = element_blank(),
axis.ticks = element_blank()) +
scale_fill_ussc()
df <- data.frame(x = rep(c(2.9, 3.1, 4.5), c(5, 10, 4)))
four <- ggplot(df, aes(x)) +
geom_bar() +
labs(title = "d) Continuous bar chart") +
theme_ussc() +
theme(panel.grid.major.x = element_blank(),
panel.grid.minor = element_blank(),
axis.ticks = element_blank())
cowplot::plot_grid(one, two, three, nrow = 2)
ggplot(diamonds, aes(carat)) +
geom_histogram(binwidth = 1) +
theme_ussc() +
scale_x_continuous(limits = c(0,5)) +
scale_y_continuous(labels = scales::comma) +
theme(panel.grid.major.x = element_blank(),
panel.grid.minor = element_blank(),
axis.ticks = element_blank())
one <- ggplot(data=economics, aes(x=date, y=pop))+
geom_line() +
theme_ussc() +
scale_y_continuous(labels = scales::comma) +
labs(title = "a) Standard line graph") +
theme(panel.grid.minor = element_blank()) +
# geom_text(aes("1990-03-01", 30000, label = "Lines are thin with a square edge", color = "purple"))
annotate("text", x = as.Date("1990-08-01"), y = 300000, label = "Lines are thin with a square edge", color = "purple") +
geom_curve(
aes(x = as.Date("1990-08-01"), y  = 295000, xend = as.Date("1995-08-01"), yend = 280000),
data = economics,
arrow = arrow(length = unit(0.03, "npc")),
colour = "purple",
curvature = 0.3) +
geom_curve(
aes(x = as.Date("1990-08-01"), y  = 305000, xend = as.Date("2014-08-01"), yend = 319000),
data = economics,
arrow = arrow(length = unit(0.03, "npc")),
colour = "purple",
curvature = -0.3)  +
labs(x = NULL,
y = "Population")
data_summary <- function(data, varname, groupnames){
require(plyr)
summary_func <- function(x, col){
c(mean = mean(x[[col]], na.rm=TRUE),
sd = sd(x[[col]], na.rm=TRUE))
}
data_sum<-ddply(data, groupnames, .fun=summary_func,
varname)
data_sum <- rename(data_sum, c("mean" = varname))
return(data_sum)
}
df3 <- data_summary(ToothGrowth, varname="len",
groupnames=c("supp", "dose"))
two <- ggplot(df3, aes(x=dose, y=len, group=supp, color=supp)) +
geom_errorbar(aes(ymin=len-sd, ymax=len+sd), width=.1,
position=position_dodge(0.05)) +
geom_line() +
geom_point() +
xlab("Dose (mg)") +
ylab("Tooth length") +
annotate("text", x = 1.2, y = 25, label = "Orange Juice", colour = ussc_colours("dark blue")) +
annotate("text", x = 2.1, y = 28, label = "Ascorbic\nacid", colour = ussc_colours("red")) +
scale_colour_ussc() +
labs(title = "b) Line graph with standard error bars",
subtitle = "The Effect of Vitamin C on Tooth Growth in Guinea Pigs") +
theme_ussc() +
theme(legend.position = 'none',
panel.grid.minor = element_blank())
cowplot::plot_grid(one, two, nrow = 2)
pid_data$pres_factor <- factor(pid_data$presName, levels=c("Eisenhower", "Kennedy", "Johnson","Nixon", "Ford", "Carter", "Reagan", "Bush Sr.", "Clinton", "Bush Jr.", "Obama", "Trump"))
pid_data <- read_csv("https://raw.githubusercontent.com/zmeers/dataviz_img/master/approval_pid.csv") %>%
mutate(inparty_app = inparty_app/100)
pid_data$pres_factor <- factor(pid_data$presName, levels=c("Eisenhower", "Kennedy", "Johnson","Nixon", "Ford", "Carter", "Reagan", "Bush Sr.", "Clinton", "Bush Jr.", "Obama", "Trump"))
ggplot(pid_data) +
geom_line(aes(dop, inparty_app, group = presName, colour = presName)) +
theme_ussc() +
labs(title = "In-party approval rating for American presidents from 1956-2018",
subtitle = "President Eisenhower to President Trump",
x = "# of days into first term",
y = NULL,
colour = NULL) +
scale_colour_ussc("main") +
scale_y_continuous(labels = scales::percent_format(accuracy = 2))
ggplot(pid_data) +
geom_line(aes(dop, inparty_app, group = presName), colour = ussc_colours("light grey")) +
geom_line(data = filter(pid_data, presName == "Trump"), aes(dop, inparty_app), colour = ussc_colours("red")) +
directlabels::geom_dl(data = filter(pid_data, presName == "Trump"), aes(dop, inparty_app, label = presName), method = "last.bumpup", colour = ussc_colours("red")) +
theme_ussc() +
labs(title = "In-party approval rating for American presidents from 1956-2018",
x = "# of days into first term",
y = NULL) +
scale_y_continuous(labels = scales::percent_format(accuracy = 2)) +
xlim(c(0, 365))
ggplot(pid_data) +
geom_line(aes(dop, inparty_app, group = presName), colour = ussc_colours("grey")) +
geom_line(data = filter(pid_data, presName == "Trump"), aes(dop, inparty_app), colour = ussc_colours("organge")) +
directlabels::geom_dl(data = filter(pid_data, presName == "Trump"), aes(dop, inparty_app, label = presName), method = "last.bumpup", colour = ussc_colours("orange")) +
theme_ussc() +
labs(title = "In-party approval rating for American presidents from 1956-2018",
x = "# of days into first term",
y = NULL) +
scale_y_continuous(labels = scales::percent_format(accuracy = 2)) +
xlim(c(0, 365))
ggplot(pid_data) +
geom_line(aes(dop, inparty_app, group = presName), colour = ussc_colours("grey")) +
geom_line(data = filter(pid_data, presName == "Trump"), aes(dop, inparty_app), colour = ussc_colours("orange")) +
directlabels::geom_dl(data = filter(pid_data, presName == "Trump"), aes(dop, inparty_app, label = presName), method = "last.bumpup", colour = ussc_colours("orange")) +
theme_ussc() +
labs(title = "In-party approval rating for American presidents from 1956-2018",
x = "# of days into first term",
y = NULL) +
scale_y_continuous(labels = scales::percent_format(accuracy = 2)) +
xlim(c(0, 365))
ggplot(pid_data) +
geom_line(aes(dop, inparty_app, group = presName), colour = ussc_colours("black")) +
facet_wrap(~ type) +
theme_ussc() +
labs(title = "In-party approval rating for American presidents from 1956-2018",
x = "# of days into first term",
y = NULL) +
scale_y_continuous(labels = scales::percent_format(accuracy = 2)) +
theme(panel.grid.minor = element_blank()) +
facet_wrap(~pres_factor, ncol = 4)
ggplot(pid_data) +
geom_line(aes(dop, inparty_app, group = presName), colour = ussc_colours("grey")) +
facet_wrap(~ type) +
theme_ussc() +
labs(title = "In-party approval rating for American presidents from 1956-2018",
x = "# of days into first term",
y = NULL) +
scale_y_continuous(labels = scales::percent_format(accuracy = 2)) +
theme(panel.grid.minor = element_blank()) +
facet_wrap(~pres_factor, ncol = 4)
ggplot(pid_data) +
geom_line(aes(dop, inparty_app, group = presName), colour = ussc_colours("grey")) +
facet_wrap(~ type) +
theme_ussc() +
labs(title = "In-party approval rating for American presidents\nfrom 1956-2018",
x = "# of days into first term",
y = NULL) +
scale_y_continuous(labels = scales::percent_format(accuracy = 2)) +
theme(panel.grid.minor = element_blank()) +
facet_wrap(~pres_factor, ncol = 4)
pid2 <- split(pid_data,pid_data$pres_factor)
pid3 <- list()
thePres <- names(pid2)
for(i in 1:(n-1)){
pid3[[i]] <- bind_rows(pid2[[i]] %>%
mutate(inpres=pres_factor) %>%
select(dop,inparty_app,pres_factor,inpres),
pid2[[n]] %>%
select(dop,inparty_app) %>%
mutate(pres_factor=thePres[i],
inpres="Trump")
)
}
pid2 <- split(pid_data,pid_data$pres_factor)
n <- length(pid2)
pid3 <- list()
thePres <- names(pid2)
for(i in 1:(n-1)){
pid3[[i]] <- bind_rows(pid2[[i]] %>%
mutate(inpres=pres_factor) %>%
select(dop,inparty_app,pres_factor,inpres),
pid2[[n]] %>%
select(dop,inparty_app) %>%
mutate(pres_factor=thePres[i],
inpres="Trump")
)
}
pid3 <- bind_rows(pid3)
pid3$pres_factor <- factor(pid3$pres_factor, levels=c("Eisenhower", "Kennedy", "Johnson","Nixon", "Ford", "Carter", "Reagan", "Bush Sr.", "Clinton", "Bush Jr.", "Obama", "Trump"))
ggplot(pid3,
aes(x=dop,
y=inparty_app,
group=inpres,
colour = ifelse(inpres=="Trump", ussc_colours("light blue"), "black"))
) +
geom_line() +
scale_color_identity() +
theme_ussc() +
scale_y_continuous(labels = scales::percent_format(accuracy = 2)) +
theme(panel.grid.minor = element_blank()) +
labs(y = NULL,
x = "# of days into first term",
title = "In-party approval rating for American presidents from 1956-2017",
subtitle = "President Trump is overlayed in blue") +
facet_wrap(~pres_factor, ncol = 4)
one <- ggplot(mtcars, aes(x=wt, y=mpg)) +
geom_point(color = ussc::ussc_colours("red")) +
theme_ussc() +
labs(title = "a) Basic scatter plot")
one <- ggplot(mtcars, aes(x=wt, y=mpg)) +
geom_point(color = ussc::ussc_colours("orange")) +
theme_ussc() +
labs(title = "a) Basic scatter plot")
two <- ggplot(data=iris, aes(x=Sepal.Length, y=Sepal.Width, color=Species)) +
geom_point(size=1.5) +
xlab("Sepal Length") +
ylab("Sepal Width") +
ggtitle("b) Scatterplot with smoothers") +
scale_colour_ussc("main") +
theme_ussc() +
theme(legend.position = 'bottom') +
geom_smooth(method="gam", formula= y~s(x, bs="cs"))
cowplot::plot_grid(one, two, nrow = 2)
pkgdown::clean_site()
pkgdown::build_site()
theme_ussc_dark
devtools::install_github('usstudiescentre/ussc', ref='dev')
pkgdown::clean_site()
pkgdown::build_site()
pkgdown::clean_site()
pkgdown::build_site()
pkgdown::clean_site()
pkgdown::build_site()
pkgdown::clean_site()
pkgdown::build_site()
pkgdown::clean_site()
pkgdown::build_site()
pkgdown::clean_site()
roxygen2::roxygenise()
pkgdown::clean_site()
pkgdown::build_site()
devtools::install_github()
devtools::install_github('usstudiescentre/ussc', ref = 'dev')
??theme_ussc
