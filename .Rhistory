vjust='inward',
size=3.5) +
labs(title = "Do not do this...",
fill = '',
caption = 'Source: USSC analysis',
x='Type of investor',
y='$ invested') +
ggthemes::theme_excel() +
ggthemes::scale_fill_excel() +
theme(legend.position = 'none',
panel.background = element_rect(fill = "white")) +
scale_x_discrete(labels = c(`Government Grants/Research Initiatives` = "Government\nGrants/Research\n Initiatives",
`Venture Capital Private Equity Firms` = "Venture\nCapital/\nPrivate Equity\nFirms",
`Angel Investors/Family Offices`="Angel\nInvestors/\nFamily\nOffices",
`Corporate/Industry Representative`="Corporate/\nIndustry\nRep.",
`Incubators/Accelerators`="Accelerator/\nIncubator",
`Mixed Syndicate`="Mixed\nSyndicate"))
no
graph5$mil <- paste0("$", format(round(graph5$value / 1e6, 1), trim = TRUE), "M")
yes <- ggplot(graph5,
aes(x=reorder(`type`, + value),
y=value)) +
geom_bar(stat = "identity",
fill = ussc_colours("light blue"),
alpha=0.80) +
geom_text(aes(label=mil),
colour = ussc_colours("dark blue"),
family="universLight",
vjust='inward',
size=4) +
theme_ussc() +
labs(title = "Do this:",
caption = 'Source: USSC analysis',
x='',
y='') +
theme(legend.position="none",
axis.text.y  = element_blank(),
axis.text.x=element_text(family='universLight'),
axis.ticks  = element_blank(),
panel.grid.major.x=element_blank(),
panel.grid.minor.x= element_blank(),
panel.grid.minor.y= element_blank(),
panel.grid.major.y = element_blank(),
panel.border = element_blank()) +
scale_y_continuous(labels=scales::dollar,
position='left')  +
scale_x_discrete(labels = c(`Government Grants/Research Initiatives` = "Government\nGrants/Research\n Initiatives",
`Venture Capital Private Equity Firms` = "Venture\nCapital/\nPrivate Equity\nFirms",
`Angel Investors/Family Offices`="Angel Investors/\nFamily Offices",
`Corporate/Industry Representative`="Corporate/\nIndustry\nRep.",
`Incubators/Accelerators`="Accelerator/\nIncubator",
`Mixed Syndicate`="Mixed\nSyndicate"))
yes
graph5 <- read.csv("~/dropboxsydneyuni/agtech/R/plots/data_files/graph5.csv",stringsAsFactors = FALSE)
no <- ggplot(graph5,
aes(x=type,
y=value)) +
geom_bar(stat = "identity",
aes(fill = type)) +
geom_text(aes(label=scales::dollar(value)),
vjust='inward',
size=3.5) +
labs(title = "Do not do this...",
fill = '',
caption = 'Source: USSC analysis',
x='Type of investor',
y='$ invested') +
ggthemes::theme_excel() +
ggthemes::scale_fill_excel() +
theme(legend.position = 'none',
panel.background = element_rect(fill = "white")) +
scale_x_discrete(labels = c(`Government Grants/Research Initiatives` = "Government\nGrants/Research\n Initiatives",
`Venture Capital Private Equity Firms` = "Venture\nCapital/\nPrivate Equity\nFirms",
`Angel Investors/Family Offices`="Angel\nInvestors/\nFamily\nOffices",
`Corporate/Industry Representative`="Corporate/\nIndustry\nRep.",
`Incubators/Accelerators`="Accelerator/\nIncubator",
`Mixed Syndicate`="Mixed\nSyndicate"))
no
graph5$mil <- paste0("$", format(round(graph5$value / 1e6, 1), trim = TRUE), "M")
yes <- ggplot(graph5,
aes(x=reorder(`type`, + value),
y=value)) +
geom_bar(stat = "identity",
fill = ussc_colours("light blue"),
alpha=0.80) +
geom_text(aes(label=mil),
colour = ussc_colours("dark blue"),
family="universLight",
vjust='inward',
size=6) +
theme_ussc() +
labs(title = "Do this:",
caption = 'Source: USSC analysis',
x='',
y='') +
theme(legend.position="none",
axis.text.y  = element_blank(),
axis.text.x=element_text(family='universLight'),
axis.ticks  = element_blank(),
panel.grid.major.x=element_blank(),
panel.grid.minor.x= element_blank(),
panel.grid.minor.y= element_blank(),
panel.grid.major.y = element_blank(),
panel.border = element_blank()) +
scale_y_continuous(labels=scales::dollar,
position='left')  +
scale_x_discrete(labels = c(`Government Grants/Research Initiatives` = "Government\nGrants/Research\n Initiatives",
`Venture Capital Private Equity Firms` = "Venture\nCapital/\nPrivate Equity\nFirms",
`Angel Investors/Family Offices`="Angel Investors/\nFamily Offices",
`Corporate/Industry Representative`="Corporate/\nIndustry\nRep.",
`Incubators/Accelerators`="Accelerator/\nIncubator",
`Mixed Syndicate`="Mixed\nSyndicate"))
yes
graph5 <- read.csv("~/dropboxsydneyuni/agtech/R/plots/data_files/graph5.csv",stringsAsFactors = FALSE)
no <- ggplot(graph5,
aes(x=type,
y=value)) +
geom_bar(stat = "identity",
aes(fill = type)) +
geom_text(aes(label=scales::dollar(value)),
vjust='inward',
size=3.5) +
labs(title = "Do not do this...",
fill = '',
caption = 'Source: USSC analysis',
x='Type of investor',
y='$ invested') +
ggthemes::theme_excel() +
ggthemes::scale_fill_excel() +
theme(legend.position = 'none',
panel.background = element_rect(fill = "white")) +
scale_x_discrete(labels = c(`Government Grants/Research Initiatives` = "Government\nGrants/Research\n Initiatives",
`Venture Capital Private Equity Firms` = "Venture\nCapital/\nPrivate Equity\nFirms",
`Angel Investors/Family Offices`="Angel\nInvestors/\nFamily\nOffices",
`Corporate/Industry Representative`="Corporate/\nIndustry\nRep.",
`Incubators/Accelerators`="Accelerator/\nIncubator",
`Mixed Syndicate`="Mixed\nSyndicate"))
no
graph5$mil <- paste0("$", format(round(graph5$value / 1e6, 1), trim = TRUE), "M")
yes <- ggplot(graph5,
aes(x=reorder(`type`, + value),
y=value)) +
geom_bar(stat = "identity",
fill = ussc_colours("light blue"),
alpha=0.80) +
geom_text(aes(label=mil),
colour = ussc_colours("dark blue"),
family="universLight",
vjust='inward',
size=5) +
theme_ussc() +
labs(title = "Do this:",
caption = 'Source: USSC analysis',
x='',
y='') +
theme(legend.position="none",
axis.text.y  = element_blank(),
axis.text.x=element_text(family='universLight'),
axis.ticks  = element_blank(),
panel.grid.major.x=element_blank(),
panel.grid.minor.x= element_blank(),
panel.grid.minor.y= element_blank(),
panel.grid.major.y = element_blank(),
panel.border = element_blank()) +
scale_y_continuous(labels=scales::dollar,
position='left')  +
scale_x_discrete(labels = c(`Government Grants/Research Initiatives` = "Government\nGrants/Research\n Initiatives",
`Venture Capital Private Equity Firms` = "Venture\nCapital/\nPrivate Equity\nFirms",
`Angel Investors/Family Offices`="Angel Investors/\nFamily Offices",
`Corporate/Industry Representative`="Corporate/\nIndustry\nRep.",
`Incubators/Accelerators`="Accelerator/\nIncubator",
`Mixed Syndicate`="Mixed\nSyndicate"))
yes
ggplot(graph5,
aes(x=reorder(`type`, + value),
y=value)) +
geom_bar(stat = "identity",
fill = ussc_colours("light grey"),
alpha=0.80) +
geom_bar(data = filter(graph5, type == "Government Grants/Research Initiatives"), stat = "identity",
fill = ussc_colours("light blue"),
alpha=0.80) +
geom_text(aes(label=mil),
colour = ussc_colours("dark blue"),
family="universLight",
vjust='inward',
size=6) +
theme_ussc() +
labs(caption = 'Source: USSC analysis',
x='',
y='') +
theme(legend.position="none",
axis.text.y  = element_blank(),
axis.text.x=element_text(family='universLight'),
axis.ticks  = element_blank(),
panel.grid.major.x=element_blank(),
panel.grid.minor.x= element_blank(),
panel.grid.minor.y= element_blank(),
panel.grid.major.y = element_blank(),
panel.border = element_blank()) +
scale_y_continuous(labels=scales::dollar,
position='left')  +
scale_x_discrete(labels = c(`Government Grants/Research Initiatives` = "Government\nGrants/Research\n Initiatives",
`Venture Capital Private Equity Firms` = "Venture\nCapital/\nPrivate Equity\nFirms",
`Angel Investors/Family Offices`="Angel Investors/\nFamily Offices",
`Corporate/Industry Representative`="Corporate/\nIndustry\nRep.",
`Incubators/Accelerators`="Accelerator/\nIncubator",
`Mixed Syndicate`="Mixed\nSyndicate"))
ggplot(graph5,
aes(x=reorder(`type`, + value),
y=value)) +
geom_bar(stat = "identity",
fill = ussc_colours("light grey"),
alpha=0.80) +
geom_bar(data = filter(graph5, type == "Government Grants/Research Initiatives"), stat = "identity",
fill = ussc_colours("light blue"),
alpha=0.80) +
geom_text(aes(label=mil),
colour = ussc_colours("dark blue"),
family="universLight",
vjust='inward',
size=5) +
theme_ussc() +
labs(caption = 'Source: USSC analysis',
x='',
y='') +
theme(legend.position="none",
axis.text.y  = element_blank(),
axis.text.x=element_text(family='universLight'),
axis.ticks  = element_blank(),
panel.grid.major.x=element_blank(),
panel.grid.minor.x= element_blank(),
panel.grid.minor.y= element_blank(),
panel.grid.major.y = element_blank(),
panel.border = element_blank()) +
scale_y_continuous(labels=scales::dollar,
position='left')  +
scale_x_discrete(labels = c(`Government Grants/Research Initiatives` = "Government\nGrants/Research\n Initiatives",
`Venture Capital Private Equity Firms` = "Venture\nCapital/\nPrivate Equity\nFirms",
`Angel Investors/Family Offices`="Angel Investors/\nFamily Offices",
`Corporate/Industry Representative`="Corporate/\nIndustry\nRep.",
`Incubators/Accelerators`="Accelerator/\nIncubator",
`Mixed Syndicate`="Mixed\nSyndicate"))
setwd("..")
pkgdown::clean_site()
pkgdown::build_site()
devtools::install_github('usstudiescentre/ussc')
pkgdown::clean_site()
pkgdown::build_site()
gt_tbl %>%
tab_header(
title = md("**USSC data visualisation manual**")
) %>%
cols_label(
# `Graphical element` = md("**Graphical element**"),
`Font` = md("*Font*"),
`Fontface` = md("*Fontface*"),
`Size` = md("*Size*"),
`Colour` = md("*Colour*"),
`Notes` = md("***Notes***")
) %>%
tab_style(
style = cells_styles(
text_weight = "light",
text_size = 10),
locations = cells_data(
columns = vars(Font, Fontface, Size, Colour, Notes))
) %>%
tab_style(
style = cells_styles(
bkgd_color = "lightcyan",
text_weight = "bold"),
locations = cells_data(
columns = vars(Font),
rows = Font == "Font?")
)
knitr::opts_chunk$set(
warning = FALSE,
message = FALSE,
comment = FALSE,
echo = FALSE
)
library(tidyverse)
library(ussc)
library(gt)
table <- tribble(
~x, ~Font, ~Fontface, ~Size, ~Colour, ~Notes,
"Title", "Univers Ltd", "Bold", 14, "#444444", "The title should be pithy.",
"Subtitle", "Univers Light", "Regular", 11, "#444444", "Use a subtitle if you need to expand or add clarification to your title.",
"Grid lines", NA, NA,"Major grid line- 0.5pt\nMinor grid line - 0.25", "#EBEBEB", "Remove grid lines unless necessary.",
"X and Y axis titles", "Univers Ltd", "Bold", 11, "#444444", "X axis labels should be horizontal and Y axis labels should be vertical. Remove from the graph if the axis is obvious (i.e. year).",
"X and Y axis labels", "Univers Light", "Regular", 12, "#444444", "Labels should always be horizontal. Include units and punctuation (i.e. break large numbers with commas). To save space, consider adding a unit only for the first observation.",
"Axis ticks", NA, NA, NA, "#D3D3D3", NA,
"Legend title", "Univers Ltd", "Bold", 11, "#444444", NA,
"Key labels", "Univers Light", "Regular", 12, "#444444", "Key labels should always be horizontal.",
"Direct labels", "Font?", "Face?", 12, NA, NA,
"Annotations", "Univers Light", "Regular", 11, "#444444", NA,
"Caption (source and notes)", "Univers Light", "Regular", 10, "#444444", NA,
"Small multiple labels", "Univers", "Bold", 10, "#444444", NA
) %>%
rename("rowname" = 'x')
library(gt)
gt_tbl <- gt(data = table)
gt_tbl %>%
tab_header(
title = md("**USSC data visualisation manual**")
) %>%
cols_label(
# `Graphical element` = md("**Graphical element**"),
`Font` = md("*Font*"),
`Fontface` = md("*Fontface*"),
`Size` = md("*Size*"),
`Colour` = md("*Colour*"),
`Notes` = md("***Notes***")
) %>%
tab_style(
style = cells_styles(
text_weight = "light",
text_size = 10),
locations = cells_data(
columns = vars(Font, Fontface, Size, Colour, Notes))
) %>%
tab_style(
style = cells_styles(
bkgd_color = "lightcyan",
text_weight = "bold"),
locations = cells_data(
columns = vars(Font),
rows = Font == "Font?")
)
table <- tribble(
~x, ~Font, ~Fontface, ~Size, ~Colour, ~Notes,
"Title", "Univers Ltd", "Bold", 14, "#444444", "The title should be pithy.",
"Subtitle", "Univers Light", "Regular", 11, "#444444", "Use a subtitle if you need to expand or add clarification to your title.",
"Grid lines", NA, NA,"Major grid line- 0.5pt\nMinor grid line - 0.25", "#EBEBEB", "Remove grid lines unless necessary.",
"X and Y axis titles", "Univers Ltd", "Bold", 11, "#444444", "X axis labels should be horizontal and Y axis labels should be vertical. Remove from the graph if the axis is obvious (i.e. year).",
"X and Y axis labels", "Univers Light", "Regular", 12, "#444444", "Labels should always be horizontal. Include units and punctuation (i.e. break large numbers with commas). To save space, consider adding a unit only for the first observation.",
"Axis ticks", NA, NA, NA, "#D3D3D3", NA,
"Legend title", "Univers Ltd", "Bold", 11, "#444444", NA,
"Key labels", "Univers Light", "Regular", 12, "#444444", "Key labels should always be horizontal.",
"Direct labels", "Font?", "Face?", 12, NA, NA,
"Annotations", "Univers Light", "Regular", 11, "#444444", NA,
"Caption (source and notes)", "Univers Light", "Regular", 10, "#444444", NA,
"Small multiple labels", "Univers", "Bold", 10, "#444444", NA
) %>%
rename("rowname" = 'x')
library(gt)
gt_tbl <- gt(data = table)
gt_tbl %>%
tab_header(
title = md("**USSC data visualisation manual**")
) %>%
cols_label(
# `Graphical element` = md("**Graphical element**"),
`Font` = md("*Font*"),
`Fontface` = md("*Fontface*"),
`Size` = md("*Size*"),
`Colour` = md("*Colour*"),
`Notes` = md("***Notes***")
) %>%
tab_style(
style = cells_styles(
text_weight = "light",
text_size = 10),
locations = cells_data(
columns = vars(Font, Fontface, Size, Colour, Notes))
) %>%
tab_style(
style = cells_styles(
bkgd_color = "lightcyan",
text_weight = "bold"),
locations = cells_data(
# columns = vars(Font),
rows = Font == "Font?")
)
table <- tribble(
~x, ~Font, ~Fontface, ~Size, ~Colour, ~Notes,
"Title", "Univers Ltd", "Bold", 14, "#444444", "The title should be pithy.",
"Subtitle", "Univers Light", "Regular", 11, "#444444", "Use a subtitle if you need to expand or add clarification to your title.",
"Grid lines", NA, NA,"Major grid line- 0.5pt\nMinor grid line - 0.25", "#EBEBEB", "Remove grid lines unless necessary.",
"X and Y axis titles", "Univers Ltd", "Bold", 11, "#444444", "X axis labels should be horizontal and Y axis labels should be vertical. Remove from the graph if the axis is obvious (i.e. year).",
"X and Y axis labels", "Univers Light", "Regular", 12, "#444444", "Labels should always be horizontal. Include units and punctuation (i.e. break large numbers with commas). To save space, consider adding a unit only for the first observation.",
"Axis ticks", NA, NA, NA, "#D3D3D3", NA,
"Legend title", "Univers Ltd", "Bold", 11, "#444444", NA,
"Key labels", "Univers Light", "Regular", 12, "#444444", "Key labels should always be horizontal.",
"Direct labels", "Font?", "Face?", 12, NA, NA,
"Annotations", "Univers Light", "Regular", 11, "#444444", NA,
"Caption (source and notes)", "Univers Light", "Regular", 10, "#444444", NA,
"Small multiple labels", "Univers", "Bold", 10, "#444444", NA
) %>%
rename("rowname" = 'x')
library(gt)
gt_tbl <- gt(data = table)
gt_tbl %>%
tab_header(
title = md("**USSC data visualisation manual**")
) %>%
cols_label(
# `Graphical element` = md("**Graphical element**"),
`Font` = md("*Font*"),
`Fontface` = md("*Fontface*"),
`Size` = md("*Size*"),
`Colour` = md("*Colour*"),
`Notes` = md("***Notes***")
) %>%
tab_style(
style = cells_styles(
text_weight = "light",
text_size = 10),
locations = cells_data(
columns = vars(Font, Fontface, Size, Colour, Notes))
) %>%
tab_style(
style = cells_styles(
bkgd_color = "yellow",
text_weight = "bold"),
locations = cells_data(
# columns = vars(Font),
rows = Font == "Font?")
)
table <- tribble(
~x, ~Font, ~Fontface, ~Size, ~Colour, ~Notes,
"Title", "Univers Ltd", "Bold", 14, "#444444", "The title should be pithy.",
"Subtitle", "Univers Light", "Regular", 11, "#444444", "Use a subtitle if you need to expand or add clarification to your title.",
"Grid lines", NA, NA,"Major grid line- 0.5pt\nMinor grid line - 0.25", "#EBEBEB", "Remove grid lines unless necessary.",
"X and Y axis titles", "Univers Ltd", "Bold", 11, "#444444", "X axis labels should be horizontal and Y axis labels should be vertical. Remove from the graph if the axis is obvious (i.e. year).",
"X and Y axis labels", "Univers Light", "Regular", 12, "#444444", "Labels should always be horizontal. Include units and punctuation (i.e. break large numbers with commas). To save space, consider adding a unit only for the first observation.",
"Axis ticks", NA, NA, NA, "#D3D3D3", NA,
"Legend title", "Univers Ltd", "Bold", 11, "#444444", NA,
"Key labels", "Univers Light", "Regular", 12, "#444444", "Key labels should always be horizontal.",
"Direct labels", "Font?", "Face?", 12, NA, NA,
"Annotations", "Univers Light?", "Regular", 11, "#444444", NA,
"Caption (source and notes)", "Univers Light", "Regular", 10, "#444444", NA,
"Small multiple labels", "Univers", "Bold", 10, "#444444", NA
) %>%
rename("rowname" = 'x')
library(gt)
gt_tbl <- gt(data = table)
gt_tbl %>%
tab_header(
title = md("**USSC data visualisation manual**")
) %>%
cols_label(
# `Graphical element` = md("**Graphical element**"),
`Font` = md("*Font*"),
`Fontface` = md("*Fontface*"),
`Size` = md("*Size*"),
`Colour` = md("*Colour*"),
`Notes` = md("***Notes***")
) %>%
tab_style(
style = cells_styles(
text_weight = "light",
text_size = 10),
locations = cells_data(
columns = vars(Font, Fontface, Size, Colour, Notes))
) %>%
tab_style(
style = cells_styles(
bkgd_color = "yellow",
text_weight = "bold"),
locations = cells_data(
# columns = vars(Font),
rows = Font %in% c("Font?", "Univers Light?")
)
table <- tribble(
~x, ~Font, ~Fontface, ~Size, ~Colour, ~Notes,
"Title", "Univers Ltd", "Bold", 14, "#444444", "The title should be pithy.",
"Subtitle", "Univers Light", "Regular", 11, "#444444", "Use a subtitle if you need to expand or add clarification to your title.",
"Grid lines", NA, NA,"Major grid line- 0.5pt\nMinor grid line - 0.25", "#EBEBEB", "Remove grid lines unless necessary.",
"X and Y axis titles", "Univers Ltd", "Bold", 11, "#444444", "X axis labels should be horizontal and Y axis labels should be vertical. Remove from the graph if the axis is obvious (i.e. year).",
"X and Y axis labels", "Univers Light", "Regular", 12, "#444444", "Labels should always be horizontal. Include units and punctuation (i.e. break large numbers with commas). To save space, consider adding a unit only for the first observation.",
"Axis ticks", NA, NA, NA, "#D3D3D3", NA,
"Legend title", "Univers Ltd", "Bold", 11, "#444444", NA,
"Key labels", "Univers Light", "Regular", 12, "#444444", "Key labels should always be horizontal.",
"Direct labels", "Font?", "Face?", 12, NA, NA,
"Annotations", "Univers Light?", "Regular", 11, "#444444", NA,
"Caption (source and notes)", "Univers Light", "Regular", 10, "#444444", NA,
"Small multiple labels", "Univers", "Bold", 10, "#444444", NA
) %>%
rename("rowname" = 'x')
library(gt)
gt_tbl <- gt(data = table)
gt_tbl %>%
tab_header(
title = md("**USSC data visualisation manual**")
) %>%
cols_label(
# `Graphical element` = md("**Graphical element**"),
`Font` = md("*Font*"),
`Fontface` = md("*Fontface*"),
`Size` = md("*Size*"),
`Colour` = md("*Colour*"),
`Notes` = md("***Notes***")
) %>%
tab_style(
style = cells_styles(
text_weight = "light",
text_size = 10),
locations = cells_data(
columns = vars(Font, Fontface, Size, Colour, Notes))
) %>%
tab_style(
style = cells_styles(
bkgd_color = "yellow",
text_weight = "bold"),
locations = cells_data(
# columns = vars(Font),
rows = Font %in% c("Font?", "Univers Light?"))
)
pkgdown::clean_site()
pkgdown::build_site()
