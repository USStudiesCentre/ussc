<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>USSC survey analysis • ussc</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><!-- sticky kit --><script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet">
<meta property="og:title" content="USSC survey analysis">
<meta property="og:description" content="">
<meta property="og:image" content="/logo.png">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">ussc</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.2.3</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/beamer.html">How to use the USSC Beamer template</a>
    </li>
    <li>
      <a href="../articles/github.html">GitHub tutorial</a>
    </li>
    <li>
      <a href="../articles/iosslides.html">How to use the USSC ios slides template for HTML presentations</a>
    </li>
    <li>
      <a href="../articles/rollcall.html">Roll Call Data &amp; Ideal Point Estimates</a>
    </li>
    <li>
      <a href="../articles/survey_analysis.html">USSC survey analysis</a>
    </li>
    <li>
      <a href="../articles/theme_ussc_dark.html">`theme_ussc_dark()`</a>
    </li>
    <li>
      <a href="../articles/ussc-ggthemes.html">Visual explanation of USSC ggplot2 themes and colour scales</a>
    </li>
    <li>
      <a href="../articles/ussc_confluence.html">USSC Confluence functions</a>
    </li>
    <li>
      <a href="../articles/ussc_styleguide.html">USSC data visualisation style guide</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/usstudiescentre/ussc">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="https://www.ussc.edu.au">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1>USSC survey analysis</h1>
                        <h4 class="author">Zoe Meers</h4>
            
            <h4 class="date">2019-08-12</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/usstudiescentre/ussc/blob/master/vignettes/survey_analysis.Rmd"><code>vignettes/survey_analysis.Rmd</code></a></small>
      <div class="hidden name"><code>survey_analysis.Rmd</code></div>

    </div>

    
    
<p>The intended purpose for this write-up is to explain the two new prop.table functions in <code>ussc</code>.</p>
<p>The first, <code><a href="../reference/prop_survey_question.html">ussc::prop_survey_question()</a></code>, calculates the proportion for specified questions across both countries and spreads the results so that the resulting data frame is wide (i.e. corresponding US and Australian proportions for the question and answer are side-by-side). It works as follows:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" data-line-number="1">survey_data <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb1-2" data-line-number="2"><span class="st">  </span><span class="kw"><a href="../reference/prop_survey_question.html">prop_survey_question</a></span>(<span class="dt">questions =</span> <span class="kw">starts_with</span>(<span class="st">"stance_on_tarrifs"</span>)) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb1-3" data-line-number="3"><span class="st">  </span><span class="kw">select</span>(<span class="op">-</span>description_au) </a></code></pre></div>
<p>The sample group has already been specified for you. You do need to make note of the particular questions you want to select.</p>
<p>The second function, <code><a href="../reference/prop_grouped_survey_question.html">ussc::prop_grouped_survey_question()</a></code> allows the user to group by one or more variables, like so:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" data-line-number="1">survey_data <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb2-2" data-line-number="2"><span class="st">  </span><span class="kw"><a href="../reference/prop_grouped_survey_question.html">prop_grouped_survey_question</a></span>(<span class="dt">questions =</span> <span class="kw">starts_with</span>(<span class="st">"sexual_harrassment"</span>),</a>
<a class="sourceLine" id="cb2-3" data-line-number="3">                               sample, partyid) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb2-4" data-line-number="4"><span class="st">  </span><span class="kw">select</span>(<span class="op">-</span>description_au)</a></code></pre></div>
<p>Note that you need to specify the sample variable (Australia or US sample) so that it is included in the group along with party ID (or whatever you want to group by). You can group by multiple variables. but keep in mind that the tables will get very wide and this might be hard to fit onto a standard A4 paper.</p>
<p>Both functions return the description for the Australian survey and the American survey. The questions were often the exact same, so you can simply filter out a description column. I leave this choice up to the user.</p>
<p>Of course, you can pass other functions to the returned object. A pretty kable table can be pulled together quite quickly, e.g.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb3-1" data-line-number="1">t &lt;-<span class="st"> </span>f2 <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb3-2" data-line-number="2"><span class="st">  </span><span class="kw">select</span>(<span class="op">-</span>description_us,</a>
<a class="sourceLine" id="cb3-3" data-line-number="3">         <span class="op">-</span><span class="st">`</span><span class="dt">Australia_Other or none</span><span class="st">`</span>) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb3-4" data-line-number="4"><span class="st">  </span>knitr<span class="op">::</span><span class="kw"><a href="https://www.rdocumentation.org/packages/knitr/topics/kable">kable</a></span>(<span class="st">"html"</span>, <span class="dt">booktabs =</span> T, <span class="dt">digits =</span> <span class="dv">0</span>) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb3-5" data-line-number="5"><span class="st">  </span>kableExtra<span class="op">::</span><span class="kw"><a href="https://www.rdocumentation.org/packages/kableExtra/topics/add_header_above">add_header_above</a></span>(<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="st">" "</span> =<span class="st"> </span><span class="dv">1</span>, </a>
<a class="sourceLine" id="cb3-6" data-line-number="6">                     <span class="st">"LNP"</span> =<span class="st"> </span><span class="dv">1</span>, </a>
<a class="sourceLine" id="cb3-7" data-line-number="7">                     <span class="st">"Greens"</span> =<span class="st"> </span><span class="dv">1</span>,</a>
<a class="sourceLine" id="cb3-8" data-line-number="8">                     <span class="st">"Labor"</span> =<span class="st"> </span><span class="dv">1</span>, </a>
<a class="sourceLine" id="cb3-9" data-line-number="9">                     <span class="st">"Dem."</span> =<span class="st"> </span><span class="dv">1</span>, </a>
<a class="sourceLine" id="cb3-10" data-line-number="10">                     <span class="st">"Ind."</span> =<span class="st"> </span><span class="dv">1</span>, </a>
<a class="sourceLine" id="cb3-11" data-line-number="11">                     <span class="st">"Rep."</span> =<span class="st"> </span><span class="dv">1</span>)) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb3-12" data-line-number="12"><span class="st">  </span>kableExtra<span class="op">::</span><span class="kw"><a href="https://www.rdocumentation.org/packages/kableExtra/topics/add_header_above">add_header_above</a></span>(<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="st">" "</span> =<span class="st"> </span><span class="dv">1</span>, </a>
<a class="sourceLine" id="cb3-13" data-line-number="13">                     <span class="st">"Australia"</span> =<span class="st"> </span><span class="dv">3</span>, </a>
<a class="sourceLine" id="cb3-14" data-line-number="14">                     <span class="st">"United States"</span> =<span class="st"> </span><span class="dv">3</span>), <span class="dt">bold =</span> T) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb3-15" data-line-number="15"><span class="st">  </span>kableExtra<span class="op">::</span><span class="kw"><a href="https://www.rdocumentation.org/packages/kableExtra/topics/group_rows">group_rows</a></span>(<span class="dt">index =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="st">"Men getting away with committing sexual harassment and assault"</span> =<span class="st"> </span><span class="dv">3</span>,</a>
<a class="sourceLine" id="cb3-16" data-line-number="16">                       <span class="st">"Women making false claims about sexual harassment or assault"</span> =<span class="st"> </span><span class="dv">3</span>,</a>
<a class="sourceLine" id="cb3-17" data-line-number="17">                       <span class="st">"Women not being believed about sexual harassment and assault"</span> =<span class="st"> </span><span class="dv">3</span>))</a></code></pre></div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
      </div>

</div>


      <footer><div class="copyright">
  <p>Developed by Zoe Meers.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.3.0.</p>
</div>
      </footer>
</div>

  

  </body>
</html>
